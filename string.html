


<head>

<title>Compiler</title>

</head>

<body>

<textarea class="text" cols="110" rows="25"></textarea>
<div class="wrapper">
    <button class="download-js">DownloadJS</button>
    <button class="download-html">DownloadHTML</button>
</div>

<style>
    body{
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        height: 100vh;
        overflow: hidden;
    }
    div {width: 91%;height: 5rem; display: flex;align-items: center; justify-content: space-between; flex-direction: row;}
    button{width: 50%; height: 100%;}
    textarea {resize: none; padding: 1rem 1rem; font-size: 1.2rem; outline: none;}
</style>

<script>
    const downloadHTML = document.querySelector(".download-html")
    const downloadJS = document.querySelector(".download-js")
    const textArea = document.querySelector(".text")

    class Renderer {
        constructor() {
            this.x = 34
        }
        draw() {
            console.log("cummies", this.x)
        }
    }


    let asset = {}
    asset.player = new Renderer()
    console.log(asset.player)
    let assetString = JSON.stringify(asset)

    function download(filename, text) {
        var element = document.createElement('a');
        element.setAttribute('href', 'data:text/plain;charset=utf-8,' + encodeURIComponent(text));
        element.setAttribute('download', filename);
        element.style.display = 'none';
        document.body.appendChild(element);
        element.click();
        document.body.removeChild(element);
    }

    downloadHTML.addEventListener("click", ()=> download("compiled.html",textArea.value))
    downloadJS.addEventListener("click", ()=> download("compiled.js", `let Game = ${assetString}; ${textArea.value}`))
</script>

</body>